EMU8086 GENERATED LISTING. MACHINE CODE <- SOURCE.
 
x2017.com_ -- emu8086 assembler version: 4.08  
 
[ 29-Jan-2014  --  11:58:10 ] 
 
===================================================================================================
[LINE]     LOC: MACHINE CODE                          SOURCE
===================================================================================================
 
[   1]        :                                       ; * * * * * * * * * *
[   2]        :                                       ;
[   3]        :                                       ; x2017.asm assembles
[   4]        :                                       ; by emu8086 assembler
[   5]        :                                       ; into 375 bytes
[   6]        :                                       ;
[   7]        :                                       ; * * * * * * * * * *
[   8]        :                                       ;
[   9]        :                                       ; image drawing
[  10]        :                                       ; demostration
[  11]        :                                       ;
[  12]        :                                       ; * * * * * * * * * *
[  13]        :                                       
[  14]        :                                       org 0x100
[  15]        :                                       
[  16]        :                                       icon_width = 16
[  17]        :                                       screen_width = 320
[  18]        :                                       screen_height = 200
[  19]        :                                       
[  20]    0100: EB 12                                 jmp start
[  21]        :                                       
[  22]    0102: 20 54 68 61 6E 6B 20 79 6F 75 21 20   thank_you   db  ' Thank you! ', 0
                00                                  
[  23]    010F: 90 00                                 star_x      dw  144
[  24]    0111: 54 00                                 star_y      dw  84
[  25]    0113: 02                                    star_colour db  2
[  26]        :                                       
[  27]        :                                       ; * * * * * * * * * *
[  28]        :                                       
[  29]    0114:                                       start   proc    far
[  30]    0114: 8C C8                                 mov     ax, cs
[  31]    0116: 8E D8                                 mov     ds, ax
[  32]    0118: 8E C0                                 mov     es, ax
[  33]        :                                       
[  34]    011A: B4 00                                 mov ah, 0
[  35]    011C: B0 13                                 mov al, 13h
[  36]    011E: CD 10                                 int 10h
[  37]        :                                       
[  38]    0120:                                       draw_star:
[  39]        :                                       
[  40]    0120: 8B 1E 0F 01                           mov bx, star_x
[  41]    0124: 8B 16 11 01                           mov dx, star_y
[  42]    0128: BE 77 01                              mov si, star
[  43]    012B: E8 11 00                              call puticon
[  44]    012E: FE 06 13 01                           inc star_colour
[  45]        :                                       
[  46]    0132: B9 0A 00                              mov cx, 10
[  47]    0135: BA 00 00                              mov dx, 0
[  48]    0138: B4 86                                 mov ah, 86h
[  49]    013A: CD 15                                 int 15h
[  50]        :                                       
[  51]    013C: EB E2                                 jmp draw_star
[  52]        :                                       
[  53]        :                                       ; * * * * * * * * * *
[  54]        :                                       
[  55]    013E: CB                                    ret
[  56]        :                                       start   endp
[  57]        :                                       
[  58]        :                                       
[  59]        :                                       
[  60]        :                                       ; * * * * * * * * * *
[  61]        :                                       ; * input: bx = x
[  62]        :                                       ; *        dx = y
[  63]        :                                       ; *        si = image
[  64]    013F:                                       puticon proc
[  65]    013F: B8 00 A0                              mov ax, 0A000h
[  66]    0142: 8E C0                                 mov es, ax
[  67]    0144: B8 40 01                              mov ax, screen_width
[  68]    0147: F7 E2                                 mul dx
[  69]    0149: 03 D8                                 add bx, ax
[  70]    014B: 73 01                                 jnc no_carry
[  71]    014D: 42                                    inc dx
[  72]    014E:                                       no_carry:
[  73]    014E: B9 10 00                              mov cx, icon_width
[  74]    0151:                                       next_y:
[  75]    0151: 51                                    push    cx
[  76]    0152: B9 10 00                              mov cx, icon_width
[  77]    0155:                                       next_x:
[  78]    0155: 8B FB                                 mov di, bx
[  79]    0157: 8A 04                                 mov al, [si]
[  80]    0159: 3C 00                                 cmp al, 0
[  81]    015B: 74 06                                 je  transparent
[  82]    015D: A0 13 01                              mov al, star_colour
[  83]    0160: 26 88 05                              mov es:[di], al
[  84]    0163:                                       transparent:
[  85]    0163: 46                                    inc si
[  86]    0164: 83 C3 01                              add bx, 1
[  87]    0167: 73 01                                 jnc no_car_x
[  88]    0169: 42                                    inc dx
[  89]    016A:                                       no_car_x:
[  90]    016A: E2 E9                                 loop    next_x
[  91]    016C: 59                                    pop cx
[  92]    016D: 81 C3 30 01                           add bx, screen_width-icon_width
[  93]    0171: 73 01                                 jnc no_car_y
[  94]    0173: 42                                    inc dx
[  95]    0174:                                       no_car_y:
[  96]    0174: E2 DB                                 loop    next_y
[  97]    0176: C3                                    ret
[  98]        :                                       puticon endp
[  99]        :                                       ; * * * * * * * * * *
[ 100]        :                                       
[ 101]    0177:                                       star:
[ 102]    0177: 00 00 00 00 00 00 00 01 00 00 00 00   db   0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1
                00 00 00 01                         
[ 103]    0187: 01 00 00 00 00 00 00 01 00 00 00 00   db   1,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0
                00 00 01 00                         
[ 104]    0197: 00 01 00 00 00 00 00 01 00 00 00 00   db   0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0
                00 01 00 00                         
[ 105]    01A7: 00 00 01 00 00 00 00 01 00 00 00 00   db   0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0
                01 00 00 00                         
[ 106]    01B7: 00 00 00 01 00 00 00 01 00 00 00 01   db   0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0
                00 00 00 00                         
[ 107]    01C7: 00 00 00 00 01 00 00 01 00 00 01 00   db   0,0,0,0,1,0,0,1,0,0,1,0,0,0,0,0
                00 00 00 00                         
[ 108]    01D7: 00 00 00 00 00 01 00 01 00 01 00 00   db   0,0,0,0,0,1,0,1,0,1,0,0,0,0,0,0
                00 00 00 00                         
[ 109]    01E7: 00 00 00 00 00 01 01 01 01 01 00 00   db   0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0
                00 00 00 00                         
[ 110]    01F7: 01 01 01 01 01 01 01 01 01 01 01 01   db   1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1
                01 01 01 01                         
[ 111]    0207: 00 00 00 00 00 00 01 01 01 01 00 00   db   0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0
                00 00 00 00                         
[ 112]    0217: 00 00 00 00 00 01 00 01 00 01 00 00   db   0,0,0,0,0,1,0,1,0,1,0,0,0,0,0,0
                00 00 00 00                         
[ 113]    0227: 00 00 00 00 01 00 00 01 00 00 01 00   db   0,0,0,0,1,0,0,1,0,0,1,0,0,0,0,0
                00 00 00 00                         
[ 114]    0237: 00 00 00 01 00 00 00 01 00 00 00 01   db   0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0
                00 00 00 00                         
[ 115]    0247: 00 00 01 00 00 00 00 01 00 00 00 00   db   0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0
                01 00 00 00                         
[ 116]    0257: 00 01 00 00 00 00 00 01 00 00 00 00   db   0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0
                00 01 00 00                         
[ 117]    0267: 01 00 00 00 00 00 00 01 00 00 00 00   db   1,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0
                00 00 01 00                         
[ 118]        :                                       
[ 119]        :                                       
[ 120]        :                                       
[ 121]        :                                       ; * * * * * * * * * *
[ 122]        :                                       ; *                 *
[ 123]        :                                       ; *     end         *
[ 124]        :                                       ; *                 *
[ 125]        :                                       ; *                 *
[ 126]        :                                       ; * * * * * * * * * *
[ 127]        :                                       ;
[ 128]        :                                       ;
[ 129]        :                                       ;
[ 130]        :                                       ;
[ 131]        :                                       ;
[ 132]        :                                       
[ 133]        :                                       
[ 134]        :                                       
 
===================================================================================================
 




===================================================================================================
